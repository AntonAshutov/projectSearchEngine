# projectSearchEngine
educational project <br><br>
Проект представляет собой сервис по сканированию и индексации сайтов для дальнейшего поиска по ним страниц, наиболее релевантных вашему запросу.
На странице приложения три вкладки:<br><br>
 -DASHBOARD<br> ![dashboard](https://github.com/AntonAshutov/projectSearchEngine/assets/116497853/7639cb78-f58b-4f02-bbee-0a9284ebca37)
На этой вкладке показано:<br>

  -общая статистика<br> 
  -статус индексации сайтов<br> 
  -статистика по каждому сайту<br>

  ----
  -MANAGEMENT<br>![management](https://github.com/AntonAshutov/projectSearchEngine/assets/116497853/c1427bba-ec31-4c95-b839-db6973bad76b)

  на этой вкладке находится кнопка старта/остановки индексации и поле для индексации отдельной страницы.<br>

  ---
  -SEARCH <br>
  ![search](https://github.com/AntonAshutov/projectSearchEngine/assets/116497853/5347e258-1ed8-4455-975b-62bfa40b5e21)

  эта вкладка используется для поиска релевантных запросу страниц из числа проиндексированных.
  Можно искать среди страниц всех проиндексированных сайтов либо среди страниц одного сайта.

  ---
  
Как запустить приложение локально:
- Установите на свой пк sql
- Создайте бд для работы приложения. Таблицы создавть не надо.
- Скопируйте содержимое репозитория на свой пк.
- В конфигурационном файле application.yaml установите значения spring.datasource.username и spring.datasource.password в соответствии с настройка вашей бд.
- Запустите приложение и откройте в браузере страницу http://localhost:8080/
---

Используемые технологии:
- Java
- Spring(Boot, MVC, Data JPA, Web, REST)
- maven
- jsoup
- multythreading
- MySQL

---
Подробнее как сервис работает внутри:<br>
Приложение работает с четырьмя таблицами, в коде представленными классами сущностями: <br>
- site - в этой таблице хранятся записи об индексируемых сайтач: их id, название, адрес, текст ошибки, статус, время обнавления
- page - здесь хранятся записи о проиндексорованных страницах: их id, код ответа, контент, путь от домашней страницы сайта и id записи из таблицы site с сайтом, к которому данная страница относится.
- lemma - в этой таблице находятся записи о леммах - начальных формах слов, встречающихся на индексируемых сайтах. Записи содержат следующую информацию: id записи, сама лемма, id сайта, количество страниц этого сайта, на которых встречается хотябы одно слово, от которого образованна данная лемма.
- index - таблица с записями о том, сколько раз каждая лемма встречается на каждой проиндексированной странице. Содержит id записи, id леммы, id страницы, и количество слов, образумех от данной леммы на данной странице. <br><br>
При начале индексации таблицы при необходимости создаются/очищаются и сервис начинает обход сайтов. Обход происходит "в ширину", т.е. программа извлекает все ссылки из контента домашней страницы, и начинает их обходить. А получаемые ссылки из контента обходимых страниц пока сохраняются. Когда все страницы, ссылки которых получены из контента домашней страницы страницы отсканированны - программа спускается на следующий уровень, и так далее. При сканировании каждой страницы кроме извлечения ссылок происходит анализ отображаемого текста - поиск и подсчёт встречающихся лемм. Соответствующая информация заносится в таблицы. Дожидаться полного сканировани необязательно, его можно остановать, нажав на кнопк "stop indexing", или перейдя по ссылке http://localhost:8080/api/stopIndexing. После этого можно производить поиск по проиндексированным страницам. Программа разобьёт запрос на леммы и найдёт страницы, на которых встречаются они все. В ответе страницы будут отсортированы по релевантности и будут показаны сниппеты - части текста на страницах, на которых встречаются леммы, имеющиеся в запросе.
